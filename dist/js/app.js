(function(e){function t(t){for(var n,o,s=t[0],c=t[1],d=t[2],u=0,m=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(m.length)m.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var l=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"2f16":function(e,t,a){"use strict";a("97bb")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e.messageError?a("div",{staticClass:"notification is-danger"},[e._v(e._s(e.messageError))]):e.message?a("div",{staticClass:"notification is-success"},[e._v(e._s(e.message))]):e._e(),e.isAddNewEvent?[a("div",{staticClass:"control-ml"},[a("div",{staticClass:"calendar-form-wrapper"},[a("label",{staticClass:"calendar-time-label"},[e._v(" Event time "),a("span",{staticClass:"view-item-selected-date"},[e._v(e._s(e.itemEventDate))])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.itemTimeStart,expression:"itemTimeStart"}],staticClass:"control-input-width",attrs:{type:"time",required:""},domProps:{value:e.itemTimeStart},on:{input:function(t){t.target.composing||(e.itemTimeStart=t.target.value)}}}),a("button",{staticClass:"calendar-btn-add-item",on:{click:e.clickAddItem}},[e._v(" Add Item ")])])])]:e._e(),a("div",{staticClass:"calendar-wrapper"},[a("div",{staticClass:"calendar-parent"},[a("calendar-view",{class:e.themeClasses,attrs:{items:e.items,"show-date":e.showDate,"show-times":!0,"time-format-options":{hour:"numeric",minute:"2-digit"},"enable-date-selection":!1,"enable-drag-drop":!0},on:{"click-date":e.onClickDay,"drop-on-date":e.onDrop,"click-item":e.onClickItem},scopedSlots:e._u([{key:"header",fn:function(t){var n=t.headerProps;return a("calendar-view-header",{attrs:{"header-props":n},on:{input:e.setShowDate}})}}])})],1)])],2)},i=[],o=(a("99af"),a("4de4"),a("4160"),a("d3b7"),a("25f0"),a("3ca3"),a("159b"),a("ddb0"),a("2b3d"),a("83b0"));a("8bb7"),a("88ef");var s=a("bc3a").default,c={headers:{Accept:"*/*","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"}},d=9,l=3,u={name:"App",components:{CalendarView:o["CalendarView"],CalendarViewHeader:o["CalendarViewHeader"]},mixins:[o["CalendarMathMixin"]],data:function(){return{showDate:new Date,useDefaultTheme:!0,itemTitle:"Workout",itemEventDate:"",itemTimeStart:"",message:"",messageError:"",isAddNewEvent:!1,addedWorkouts:1,items:[]}},computed:{themeClasses:function(){return{"theme-default":this.useDefaultTheme}}},created:function(){var e=this;s.get("/wp-admin/admin-ajax.php?action=get_calendar_items",c).then((function(t){console.log(t);var a=t.data;a.forEach((function(t,a){var n=parseInt(t);n&&(console.log(new Date(n)),e.items.push({id:"e"+a,startDate:new Date(n),title:"Workout"}))})),console.log(e.items)})).catch((function(e){console.log(e)}))},methods:{thisMonth:function(e,t,a){var n=new Date;return new Date(n.getFullYear(),n.getMonth(),e,t||0,a||0)},onClickDay:function(e){this.isAddNewEvent=!0,this.itemEventDate=this.isoYearMonthDay(e)},clickAddItem:function(){var e=this;d>=this.addedWorkouts?function(){var t=new Date(e.itemEventDate),a=0,n=e.beginningOfWeek(t,0).getDate(),r=n+6;console.log(n);while(n<=r)e.items.forEach((function(e){var r=new Date(e.startDate);t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&n===r.getDate()&&a++})),n++;if(l>a){var i=!1,o=new Date(e.itemEventDate);if(e.items.forEach((function(e){var t=new Date(e.startDate);o.getFullYear()===t.getFullYear()&&o.getMonth()===t.getMonth()&&o.getDate()===t.getDate()&&(i=!0)})),i)e.messageError="The event has already added here. Please choose another date";else{var d=new Date(e.itemEventDate+" "+e.itemTimeStart);e.items.push({startDate:d,title:e.itemTitle,id:"e"+Math.random().toString(36).substr(2,10)});var u=new URLSearchParams;u.append("action","submit_calendar"),e.items.forEach((function(e,t){u.append("workout"+(t+1),e.startDate.getTime())})),s.post("/wp-admin/admin-ajax.php",u,c),e.message="You added a calendar item!",e.messageError="",e.addedWorkouts++}}else e.messageError="The week available workouts is exceeded"}():this.messageError="The total available workouts is exceeded"},onDrop:function(e,t){var a=!1;if(this.items.forEach((function(e){var n=new Date(e.startDate);t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()&&(a=!0)})),a)this.messageError="The same date cannot contain more than one event";else{var n=this.dayDiff(e.startDate,t);e.originalItem.startDate=this.addDays(e.startDate,n),e.originalItem.endDate=this.addDays(e.endDate,n),this.message="You dropped ".concat(e.id," on ").concat(t.toLocaleDateString()),this.messageError=""}},onClickItem:function(e){this.items=this.items.filter((function(t){return t.id!==e.id})),this.message="You removed: ".concat(e.id),this.messageError=""},setShowDate:function(e){this.message="Changing calendar view to ".concat(e.toLocaleDateString()),this.showDate=e}}},m=u,h=(a("2f16"),a("2877")),p=Object(h["a"])(m,r,i,!1,null,"68f6d588",null),f=p.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(f)}}).$mount("#app")},"97bb":function(e,t,a){}});
//# sourceMappingURL=app.js.map